Go语言包管理工具(Go Package Manager)
====================================

设计目标
========

主要解决以下问题:

- 在断网时依然可用
- 支持按照版本或标签进行获取
- 源码打包发布是, 自动提取第三方依赖
- 将第三方依赖的包路径转为相对路径导入
- 在没有git/hg等版本工具时依然可用(zip导入)

断网时的处理策略
================

在  `$GOPKG_REPO` 目录缓存已经下载的库 (默认在 `$GOROOT/src.gopkg` 目录).

目录结构如下:

```
$GOROOT/src.gopkg
 |
 +- git
 +- hg
 +- bzr
 +- zip
```

当需要获取依赖的库时, 先从本地的缓存获取, 然后再从远程获取.

对于 github/googlecode 等常见的托管网站进行定制, 如果没有git工具
则根据版本号下载对应的zip文件.

版本依赖管理
============

对于 app 应用一般需要设置依赖的版本. 工作模式类似 gopm 工具.

间接依赖的版本将被忽略, 因为会出现不同版本同时导入的问题.

自动提取第三方依赖
==================

对于 app 应用, 在对应的 `./Gopkg` 目录保存第三方依赖的信息.
格式和 godep 类似.

依赖信息在 `Gopkg/Gopkg.json` 文件中.

当前app可以是普通目录(不受git等管理).

相对路径导入第三方依赖
======================

提供路径修复命令, 在 app 路径发生变化是, 可以将第三方库和子库
转为当前新的导入路径, 完美支持 `go build` 零依赖编译.

提供zip文件导入
===============

当没有 git 等版本工具时, 尝试直接获取对应版本的 zip 文件.

如果是自己假设的包服务, 提供以下的扩展:

```
<meta name="go-import" content="import-prefix vcs repo-root">
```

其中 vcs 部分除了标准的 "git", "hg", "svn" 工具外, 还支持 **zip** 格式.


补充
====

欢迎讨论.
